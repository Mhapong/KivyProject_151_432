<GameScreen>:
    canvas.before:
        Color:
            rgba: 0, 0, 0, 1  # Set background to black to avoid white squares
            
    FloatLayout:
        id: game_screen

        # Background Image
        Image:
            id: background
            source: 'assets/image/map_1.jpg'
            size_hint: (1, 1)
            allow_stretch: True
            keep_ratio: False

        # Game World Widget
        Widget:
            id: game_world
            canvas:
                # No default canvas instructions here

            # Player
            Player:
                id: player
                source: root.player_skin  # Use root.player_skin to refer to the property in the GameScreen class
                size_hint: None, None
                size: 50, 50
                center_x: self.parent.width / 2
                y: 150  # Initial y position
                canvas.before:
                    PushMatrix
                    Rotate:
                        angle: -self.rotation  # Use positive rotation value
                        axis: 0, 0, 1
                        origin: self.center
                canvas.after:
                    PopMatrix

            # Ground Elements
            Image:
                id: ground1
                source: 'assets/image/ground.png'
